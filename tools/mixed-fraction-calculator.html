<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="calculator-name" content="mixed-fraction-calculator">
    <meta name="calculator-description" content="Performs arithmetic operations (addition, subtraction, multiplication, division) on mixed numbers and fractions.">
    <meta name="calculator-category" content="converter">
    <title>Mixed Fraction Calculator</title>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        * {
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            margin: 0;
            min-height: 100vh;
            background: #f0f2f5;
        }

        .header {
            background: var(--primary-gradient);
            color: white;
            padding: 1rem 0;
            box-shadow: var(--shadow);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.5rem;
        }

        nav a {
            color: white;
            text-decoration: none;
            margin-left: 1.5rem;
        }

        .calculator-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .input-group {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr 2fr;
            gap: 1rem;
            align-items: center;
            margin: 1rem 0;
        }

        input, select {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 100%;
        }

        input:focus, select:focus {
            outline: 2px solid #764ba2;
        }

        .button-group {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background: var(--primary-gradient);
            color: white;
            transition: opacity 0.3s;
        }

        button:hover {
            opacity: 0.9;
        }

        #result {
            margin-top: 2rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 4px;
            font-size: 1.2rem;
        }

        .error {
            color: #dc3545;
            margin: 1rem 0;
            display: none;
        }

        .about-content {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .input-group {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-container">
            <div class="brand"><a href="../index.html">ToolHub</a></div>
            <nav>
                <a href="../about-us.html">About</a>
                <a href="../contact-us.html">Contact</a>
                <a href="../privacy-policy.html">Privacy</a>
                <a href="../index.html">Home</a>
            </nav>
        </div>
    </header>

    <div class="calculator-container">
        <h1>Mixed Fraction Calculator</h1>
        <form id="calculatorForm">
            <div class="input-group">
                <input type="number" id="whole1" placeholder="Whole">
                <input type="number" id="num1" placeholder="Numerator">
                <input type="number" id="den1" placeholder="Denominator">
                <select id="operator">
                    <option value="+">+</option>
                    <option value="-">-</option>
                    <option value="*">×</option>
                    <option value="/">÷</option>
                </select>
            </div>
            <div class="input-group">
                <input type="number" id="whole2" placeholder="Whole">
                <input type="number" id="num2" placeholder="Numerator">
                <input type="number" id="den2" placeholder="Denominator">
                <span>=</span>
            </div>
            <div class="button-group">
                <button type="button" onclick="calculate()">Calculate</button>
                <button type="button" onclick="clearForm()">Clear</button>
            </div>
            <div class="error" id="errorMessage"></div>
            <div id="result"></div>
        </form>
    </div>

    <section class="about-content">
        <h2>About Mixed Fraction Calculator</h2>
        <p>This calculator simplifies arithmetic operations with mixed numbers and fractions. It's particularly useful for students, teachers, and professionals working with measurements or recipes that use fractional values.</p>
        
        <h3>How to Use:</h3>
        <ol>
            <li>Enter whole number, numerator, and denominator for both operands</li>
            <li>Select the desired arithmetic operation</li>
            <li>Click Calculate to see the result</li>
        </ol>

        <h3>Key Features:</h3>
        <ul>
            <li>Handles mixed numbers and improper fractions</li>
            <li>Simplifies results to lowest terms</li>
            <li>Converts improper fractions to mixed numbers</li>
            <li>Supports all basic arithmetic operations</li>
        </ul>

        <p>The calculator automatically converts mixed numbers to improper fractions before performing calculations, then simplifies the result to provide the most understandable form. This eliminates manual conversion errors and saves time when working with complex fractional calculations.</p>
    </section>

    <script>
        function toImproper(whole, num, den) {
            return whole * den + num;
        }

        function gcd(a, b) {
            return b ? gcd(b, a % b) : a;
        }

        function simplify(num, den) {
            const common = gcd(Math.abs(num), Math.abs(den));
            return [num / common, den / common];
        }

        function calculate() {
            const getValue = id => document.getElementById(id).value;
            const whole1 = parseInt(getValue('whole1')) || 0;
            const num1 = parseInt(getValue('num1')) || 0;
            const den1 = parseInt(getValue('den1')) || 1;
            const whole2 = parseInt(getValue('whole2')) || 0;
            const num2 = parseInt(getValue('num2')) || 0;
            const den2 = parseInt(getValue('den2')) || 1;
            const operator = getValue('operator');

            if (den1 === 0 || den2 === 0) {
                showError('Denominator cannot be zero');
                return;
            }

            const imp1 = toImproper(whole1, num1, den1);
            const imp2 = toImproper(whole2, num2, den2);

            let resultNum, resultDen;
            switch(operator) {
                case '+':
                    resultNum = imp1 * den2 + imp2 * den1;
                    resultDen = den1 * den2;
                    break;
                case '-':
                    resultNum = imp1 * den2 - imp2 * den1;
                    resultDen = den1 * den2;
                    break;
                case '*':
                    resultNum = imp1 * imp2;
                    resultDen = den1 * den2;
                    break;
                case '/':
                    resultNum = imp1 * den2;
                    resultDen = den1 * imp2;
                    break;
            }

            if (resultDen === 0) {
                showError('Division by zero error');
                return;
            }

            const [simplifiedNum, simplifiedDen] = simplify(resultNum, resultDen);
            let result = '';
            const absNum = Math.abs(simplifiedNum);
            
            if (absNum >= simplifiedDen) {
                const whole = Math.floor(absNum / simplifiedDen);
                const remainder = absNum % simplifiedDen;
                result = `${simplifiedNum < 0 ? '-' : ''}${whole} ${remainder}/${simplifiedDen}`;
            } else {
                result = `${simplifiedNum}/${simplifiedDen}`;
            }

            document.getElementById('result').textContent = result;
            document.getElementById('errorMessage').style.display = 'none';
        }

        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            document.getElementById('result').textContent = '';
        }

        function clearForm() {
            document.querySelectorAll('input').forEach(input => input.value = '');
            document.getElementById('result').textContent = '';
            document.getElementById('errorMessage').style.display = 'none';
        }
    </script>

    <section class="related-calculators" style="margin-top: 3rem; padding: 2rem; background-color: #f8f9fa; border-radius: 12px;">
        <h3 style="text-align: center; color: #667eea; margin-bottom: 1.5rem; font-size: 1.5rem;">Related Calculators</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; max-width: 800px; margin: 0 auto;">

            <a href="https://calculator-online.github.io/auto-calc-test-02-02/tools/boat-loan-calculator.html" style="text-decoration: none; color: inherit;">
                <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease;">
                    <h4 style="color: #667eea; margin: 0; font-size: 1rem;">Boat Loan Calculator</h4>
                </div>
            </a>

            <a href="https://calculator-online.github.io/auto-calc-test-02-02/tools/pokémon-damage-calculator.html" style="text-decoration: none; color: inherit;">
                <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease;">
                    <h4 style="color: #667eea; margin: 0; font-size: 1rem;">Pokémon Damage Calculator</h4>
                </div>
            </a>

            <a href="https://calculator-online.github.io/auto-calc-test-02-02/tools/partial-derivative-calculator.html" style="text-decoration: none; color: inherit;">
                <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease;">
                    <h4 style="color: #667eea; margin: 0; font-size: 1rem;">Partial Derivative Calculator</h4>
                </div>
            </a>

            <a href="https://calculator-online.github.io/auto-calc-test-02-02/tools/d&d-5e-point-buy-calculator.html" style="text-decoration: none; color: inherit;">
                <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease;">
                    <h4 style="color: #667eea; margin: 0; font-size: 1rem;">D&D 5e Point Buy Calculator</h4>
                </div>
            </a>

            <a href="https://calculator-online.github.io/auto-calc-test-02-02/tools/cubic-yards-calculator.html" style="text-decoration: none; color: inherit;">
                <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease;">
                    <h4 style="color: #667eea; margin: 0; font-size: 1rem;">Cubic Yards Calculator</h4>
                </div>
            </a>

            <a href="https://calculator-online.github.io/auto-calc-test-02-02/tools/percent-off-calculator.html" style="text-decoration: none; color: inherit;">
                <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease;">
                    <h4 style="color: #667eea; margin: 0; font-size: 1rem;">Percent Off Calculator</h4>
                </div>
            </a>

        </div>
    </section>

</body>
</html>
